<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Verify Customer</title>
    <link rel="icon" href="data:," />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500&family=Raleway:wght@400;500&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      which
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <style>
      /* General Reset */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Impact", sans-serif;
        background-color: #ffffff;
        color: #000000;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        padding: 20px;
      }

      /* Header Section */
      .header {
        text-align: center;
        margin-bottom: 40px;
      }

      .header h1 {
        font-family: "Impact", sans-serif;
        font-size: 3.5rem;
        font-weight: 400;
        color: #000000;
        margin-bottom: 10px;
      }

      .header .quote {
        font-family: "Raleway", sans-serif;
        font-size: 1.2rem;
        font-weight: 500;
        font-style: italic;
        color: #333333;
        position: relative;
        padding-top: 10px;
      }

      .header .quote-line {
        width: 50px;
        height: 2px;
        background: #000000;
        margin: 0 auto 10px auto;
      }

      /* Instruction Text */
      .instruction {
        font-family: "Montserrat", sans-serif;
        font-size: 1rem;
        color: #555;
        margin-bottom: 20px;
        text-align: center;
      }

      /* Card Buttons Section */
      .cards {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-bottom: 40px;
        flex-wrap: wrap;
      }

      .card {
        width: 180px;
        padding: 20px;
        border-radius: 12px;
        background-color: #f5f5f7;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        text-align: center;
        cursor: pointer;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: 2px solid #000000;
      }

      .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
      }

      .image-placeholder {
        width: 80px;
        height: 80px;
        background-color: transparent; /* or use 'white' for a white background */
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        color: #666;
        margin-bottom: 10px;
        border-radius: 8px;
      }

      .card p {
        font-family: "Impact", sans-serif;
        font-size: 1rem;
        font-weight: 500;
        color: #000000;
      }

      /* Form Section */
      .hidden {
        display: none;
      }

      form {
        background: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
        max-width: 100%;
        width: 100%;
        display: none;
        font-family: Arial, sans-serif;
      }

      .form-group {
        margin-bottom: 15px;
        position: relative;
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
      }

      label {
        display: block;
        margin-bottom: 5px;
        text-align: center;
      }

      small {
        display: block;
        text-align: center;
      }

      input,
      select,
      button,
      input[type="file"] {
        width: 100%;
        max-width: 350px;
        margin: 0 auto;
        font-size: 16px;
        box-sizing: border-box;
        border: 1px solid #ccc;
        padding: 10px;
        text-align: left;
      }

      @media (min-width: 768px) {
        input,
        select,
        button,
        input[type="file"] {
          max-width: 600px;
        }
      }

      .button-container {
        display: flex;
        justify-content: space-between;
        gap: 10px;
        margin-top: 20px;
      }

      button {
        flex: 1;
        padding: 10px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }

      button.back-button {
        background-color: #6c757d;
      }

      button:hover {
        opacity: 0.9;
      }

      /* File Upload Preview Box */
      .file-upload-container {
        position: relative;
        width: 100%;
        max-width: 350px;
        margin: 0 auto;
      }

      .file-upload-container input[type="file"] {
        width: 100%;
        margin-top: 10px;
      }

      .file-preview {
        display: flex;
        align-items: center;
        justify-content: space-between;
        background-color: #f5f5f7;
        padding: 10px;
        border-radius: 5px;
        margin-top: 10px;
        border: 1px solid #ccc;
        position: relative;
      }

      .file-preview .file-name {
        font-size: 14px;
        color: #333;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
        max-width: 80%;
        padding-left: 40px;
      }

      .file-preview .delete-file {
        background: none;
        border: none;
        color: #ff4d4d;
        font-size: 28px;
        cursor: pointer;
        padding: 0;
        position: absolute;
        left: 10px;
        top: 50%;
        transform: translateY(-50%);
        transition: color 0.2s ease;
        line-height: 1;
      }

      .file-preview .delete-file:hover {
        color: #ff1a1a;
      }

      /* Footer Styles */
      .footer {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        text-align: center;
        font-family: "Raleway", sans-serif;
        font-size: 12px;
        color: #333;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        opacity: 0.8;
        z-index: 1000;
      }

      .footer i {
        color: #ff6b6b;
        font-size: 14px;
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
        100% {
          transform: scale(1);
        }
      }

      /* Calendar styles */
      .calendar {
        width: 300px;
        border: 1px solid #ddd;
        border-radius: 5px;
        padding: 20px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        background-color: white;
        margin: 20px auto;
      }

      .calendar-header {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
      }

      .calendar-grid {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 5px;
      }

      .calendar-day {
        text-align: center;
        padding: 5px;
        border: 1px solid #eee;
        cursor: pointer;
      }

      .calendar-dropdowns {
        display: flex;
        gap: 10px;
        margin-bottom: 10px;
        justify-content: center;
      }

      .calendar-dropdowns select {
        padding: 5px;
        font-size: 14px;
      }

      input::placeholder {
        color: #aaa;
        font-style: italic;
      }

      /* Calendar styles */
      .calendar {
        width: 300px;
        border: 1px solid #ddd;
        border-radius: 5px;
        padding: 10px;
        background-color: white;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        margin-top: 5px;
      }

      .calendar-header {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
      }

      .calendar-grid {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 5px;
      }

      .calendar-day {
        text-align: center;
        padding: 5px;
        border: 1px solid #eee;
        cursor: pointer;
      }

      .calendar-day:hover {
        background-color: #f0f0f0;
      }

      .calendar-hidden {
        display: none;
      }
    </style>
  </head>
  <body>
    <div id="landing-page">
      <div class="header">
        <h1>Verify Customer</h1>
        <div class="quote-line"></div>
        <p class="quote">
          Simply Connecting Verified for Customers and Companies
        </p>
      </div>
      <p class="instruction">Please select a category below to get started:</p>
      <div class="cards">
        <!-- Auto Card -->
        <div class="card" onclick="showForm('auto')">
          <div class="image-placeholder">
            <i class="fas fa-car" style="font-size: 40px; color: #007bff"></i>
          </div>
          <p>Auto</p>
        </div>

        <!-- Residential Card -->
        <div class="card" onclick="showForm('residential')">
          <div class="image-placeholder">
            <i class="fas fa-home" style="font-size: 40px; color: #007bff"></i>
          </div>
          <p>Residential</p>
        </div>

        <!-- Commercial Card -->
        <div class="card" onclick="showForm('commercial')">
          <div class="image-placeholder">
            <i
              class="fas fa-building"
              style="font-size: 40px; color: #007bff"
            ></i>
          </div>
          <p>Commercial</p>
        </div>
      </div>
      <div class="footer">
        <i class="fas fa-microchip" style="color: #007bff; font-size: 20px"></i>
        <p>Built with AI</p>
      </div>
    </div>

    <form
      id="verification-form"
      method="post"
      action="send_email.php"
      enctype="multipart/form-data"
      class="hidden"
    >
      <div id="additional-fields">
        <h2 id="form-title" style="font-weight: bold"></h2>
        <div class="form-group">
          <label for="full-name">Full Name</label>
          <input type="text" id="full-name" name="full_name" required />
        </div>
        <div class="form-group">
          <label for="service-address">Service Address</label>
          <input
            type="text"
            id="service-address"
            name="service_address"
            required
          />
        </div>
        <div class="form-group">
          <label for="home-address">Home Address</label>
          <input type="text" id="home-address" name="home_address" required />
        </div>
        <div class="form-group">
          <label for="phone-number">Phone Number</label>
          <input type="text" id="phone-number" name="phone_number" />
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" name="email" />
        </div>
        <div class="form-group">
          <label for="today-date">Today's Date</label>
          <input
            type="text"
            id="today-date"
            name="today_date"
            placeholder="mm/dd/yyyy"
            readonly
          />
          <div id="today-calendar" class="calendar calendar-hidden"></div>
        </div>
        <div class="form-group">
          <label for="birth-date">Birth Date</label>
          <input
            type="text"
            id="birth-date"
            name="birth_date"
            placeholder="mm/dd/yyyy"
            readonly
          />
          <div id="birth-calendar" class="calendar calendar-hidden"></div>
        </div>
        <div class="form-group">
          <label for="owner-type">Ownership</label>
          <select
            id="owner-type"
            name="owner_type"
            onchange="toggleOwnerFields(this.value)"
          >
            <option value="">Select...</option>
            <option value="myself">Myself</option>
            <option value="other">Other</option>
          </select>
        </div>
        <div id="owner-fields" class="hidden">
          <div class="form-group">
            <label for="owner-full-name">Owner's Name</label>
            <input type="text" id="owner-full-name" name="owner_full_name" />
          </div>
          <div class="form-group">
            <label for="owner-address">Owner's Address</label>
            <input type="text" id="owner-address" name="owner_address" />
          </div>
          <div class="form-group">
            <label for="owner-phone">Owner's Phone</label>
            <input type="text" id="owner-phone" name="owner_phone" />
          </div>
          <div class="form-group">
            <label for="owner-email">Owner's Email</label>
            <input type="email" id="owner-email" name="owner_email" />
          </div>
        </div>
        <div class="form-group hidden" id="auto-fields">
          <label for="aaa-id">AAA and/or Insurance Policy Number</label>
          <input type="text" id="aaa-id" name="aaa_id" />
          <label for="vin">VIN</label>
          <input type="text" id="vin" name="vin" />
          <div class="file-upload-container">
            <label for="registration">Registration (file upload)</label>
            <input
              type="file"
              id="registration"
              name="registration"
              accept=".pdf,.doc,.docx,.jpg,.jpeg,.png"
              onchange="handleFileUpload(this)"
            />
            <div class="file-preview hidden">
              <span class="file-name"></span>
              <button
                type="button"
                class="delete-file"
                onclick="clearFileInput(this)"
              >
                ×
              </button>
            </div>
          </div>
        </div>
        <div class="form-group hidden" id="res-comm-fields">
          <label for="property-type">Property Type</label>
          <select id="property-type" name="property_type">
            <option value="">Select...</option>
            <option value="single-family">Single-family</option>
            <option value="condo">Condo</option>
            <option value="apartment">Apartment</option>
            <option value="office">Office</option>
            <option value="retail">Retail</option>
            <option value="industrial">Industrial</option>
          </select>
          <div class="file-upload-container">
            <label for="proof-of-residency">Proof of Residency</label>
            <small>(e.g., mail or bill matching info)</small>
            <input
              type="file"
              id="proof-of-residency"
              name="proof_of_residency"
              accept=".pdf,.doc,.docx,.jpg,.jpeg,.png"
              onchange="handleFileUpload(this)"
            />
            <div class="file-preview hidden">
              <span class="file-name"></span>
              <button
                type="button"
                class="delete-file"
                onclick="clearFileInput(this)"
              >
                ×
              </button>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="file-upload-container">
            <label for="id">ID (file upload)</label>
            <input
              type="file"
              id="id"
              name="id"
              accept=".pdf,.doc,.docx,.jpg,.jpeg,.png"
              onchange="handleFileUpload(this)"
            />
            <div class="file-preview hidden">
              <span class="file-name"></span>
              <button
                type="button"
                class="delete-file"
                onclick="clearFileInput(this)"
              >
                ×
              </button>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="tech-id"
            >Technician Reference Code<br /><small
              >(consult technician for details if not provided)</small
            ></label
          >
          <input type="text" id="tech-id" name="tech_id" required />
        </div>
        <div class="button-container">
          <button type="button" class="back-button" onclick="goBack()">
            Back
          </button>
          <button type="submit">Submit</button>
        </div>
      </div>
    </form>

    <script>
      function showForm(type) {
        const landingPage = document.getElementById("landing-page");
        const form = document.getElementById("verification-form");
        const formTitle = document.getElementById("form-title");
        const autoFields = document.getElementById("auto-fields");
        const resCommFields = document.getElementById("res-comm-fields");

        landingPage.style.display = "none";
        form.style.display = "block";

        if (type === "auto") {
          formTitle.textContent = "Auto";
          autoFields.style.display = "block";
          resCommFields.style.display = "none";
        } else if (type === "residential" || type === "commercial") {
          formTitle.textContent =
            type === "residential" ? "Residential" : "Commercial";
          autoFields.style.display = "none";
          resCommFields.style.display = "block";
        }
      }

      function goBack() {
        document.getElementById("landing-page").style.display = "block";
        document.getElementById("verification-form").style.display = "none";
      }

      const months = [
        "January",
        "February",
        "March",
        "April",
        "May",
        "June",
        "July",
        "August",
        "September",
        "October",
        "November",
        "December",
      ];

      function createCalendar(type) {
        const calendar = document.getElementById(`${type}-calendar`);
        calendar.innerHTML = `
            	<div class="calendar-header">
                	<span>
                    	<select id="${type}-month" onchange="updateCalendar('${type}')"></select>
                    	<select id="${type}-year" onchange="updateCalendar('${type}')"></select>
                	</span>
            	</div>
            	<div class="calendar-grid" id="${type}-grid"></div>
        	`;

        const monthSelect = document.getElementById(`${type}-month`);
        const yearSelect = document.getElementById(`${type}-year`);

        months.forEach((month, index) => {
          const option = document.createElement("option");
          option.value = index;
          option.textContent = month;
          monthSelect.appendChild(option);
        });

        const currentYear = new Date().getFullYear();
        for (let year = currentYear - 100; year <= currentYear + 100; year++) {
          const option = document.createElement("option");
          option.value = year;
          option.textContent = year;
          yearSelect.appendChild(option);
        }

        const currentDate = new Date();
        monthSelect.value = currentDate.getMonth();
        yearSelect.value = currentYear;

        updateCalendar(type);
      }

      function updateCalendar(type) {
        const monthSelect = document.getElementById(`${type}-month`);
        const yearSelect = document.getElementById(`${type}-year`);
        const grid = document.getElementById(`${type}-grid`);

        const month = parseInt(monthSelect.value);
        const year = parseInt(yearSelect.value);

        const firstDay = new Date(year, month, 1);
        const lastDay = new Date(year, month + 1, 0);

        grid.innerHTML = "";

        for (let i = 0; i < firstDay.getDay(); i++) {
          grid.appendChild(document.createElement("div"));
        }

        for (let day = 1; day <= lastDay.getDate(); day++) {
          const dayElement = document.createElement("div");
          dayElement.textContent = day;
          dayElement.classList.add("calendar-day");
          dayElement.onclick = () => selectDate(type, year, month, day);
          grid.appendChild(dayElement);
        }
      }

      function selectDate(type, year, month, day) {
        const input = document.getElementById(`${type}-date`);
        input.value = `${month + 1}/${day}/${year}`;
        toggleCalendar(type);
      }

      function toggleCalendar(type) {
        const calendar = document.getElementById(`${type}-calendar`);
        calendar.classList.toggle("calendar-hidden");
      }

      function handleFileUpload(input) {
        const filePreview = input.nextElementSibling;
        const fileName = filePreview.querySelector(".file-name");

        if (input.files.length > 0) {
          fileName.textContent = input.files[0].name; // Show the file name
          filePreview.classList.remove("hidden"); // Show the preview box
        } else {
          filePreview.classList.add("hidden"); // Hide the preview box
        }
      }

      // Function to clear file input
      function clearFileInput(button) {
        const filePreview = button.parentElement;
        const fileInput = filePreview.previousElementSibling;

        fileInput.value = ""; // Clear the file input
        filePreview.classList.add("hidden"); // Hide the preview box
      }

      function toggleOwnerFields(value) {
        const ownerFields = document.getElementById("owner-fields");
        ownerFields.classList.toggle(
          "hidden",
          value === "myself" || value === ""
        );
      }

      document.addEventListener("DOMContentLoaded", () => {
        createCalendar("today");
        createCalendar("birth");

        document
          .getElementById("today-date")
          .addEventListener("click", () => toggleCalendar("today"));
        document
          .getElementById("birth-date")
          .addEventListener("click", () => toggleCalendar("birth"));
      });
    </script>
  </body>
</html>
